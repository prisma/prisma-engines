---
source: query-compiler/query-compiler/tests/queries.rs
expression: pretty
input_file: query-compiler/query-compiler/tests/data/update-m2m-connect.json
---
let 0 = unique (query «SELECT "public"."Post"."id", "public"."Post"."title",
                       "public"."Post"."userId" FROM "public"."Post" WHERE
                       ("public"."Post"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3»
                params [const(BigInt(1)), const(BigInt(1)), const(BigInt(0))])
in let 1 = query «SELECT "public"."Category"."id" FROM "public"."Category" WHERE
                  ("public"."Category"."id" = $1 AND 1=1) OFFSET $2»
           params [const(BigInt(1)), const(BigInt(0))]
   in let 0$id = mapField id (get 0);
          1$id = mapField id (get 1)
      in execute «INSERT INTO "public"."_CategoryToPost" ("B","A") VALUES
                  ($1,$2) ON CONFLICT DO NOTHING»
         params [var(0$id as Int), var(1$id as Int)];
   let 3 = let 0$id = mapField id (get 0)
       in unique (query «SELECT "public"."Post"."id", "public"."Post"."title",
                         "public"."Post"."userId" FROM "public"."Post" WHERE
                         "public"."Post"."id" = $1 LIMIT $2 OFFSET $3»
                  params [var(0$id as Int), const(BigInt(1)), const(BigInt(0))])
   in get 3
