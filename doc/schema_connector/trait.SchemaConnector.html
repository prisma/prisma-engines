<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The top-level trait for connectors. This is the abstraction the schema engine core relies on to interface with different database backends."><title>SchemaConnector in schema_connector - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-9bb858ba049f1f21.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="schema_connector" data-themes="" data-resource-suffix="" data-rustdoc-version="1.72.0 (5680fa18f 2023-08-23)" data-channel="1.72.0" data-search-js="search-f6292fe389d70017.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ><script src="../static.files/storage-59fd9b8ccb335783.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-0795b7d26be81095.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../schema_connector/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../schema_connector/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">SchemaConnector</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.acquire_lock">acquire_lock</a></li><li><a href="#tymethod.apply_migration">apply_migration</a></li><li><a href="#tymethod.apply_script">apply_script</a></li><li><a href="#tymethod.connection_string">connection_string</a></li><li><a href="#tymethod.connector_type">connector_type</a></li><li><a href="#tymethod.create_database">create_database</a></li><li><a href="#tymethod.database_schema_from_diff_target">database_schema_from_diff_target</a></li><li><a href="#tymethod.db_execute">db_execute</a></li><li><a href="#tymethod.destructive_change_checker">destructive_change_checker</a></li><li><a href="#tymethod.diff">diff</a></li><li><a href="#tymethod.drop_database">drop_database</a></li><li><a href="#tymethod.empty_database_schema">empty_database_schema</a></li><li><a href="#tymethod.ensure_connection_validity">ensure_connection_validity</a></li><li><a href="#tymethod.extract_namespaces">extract_namespaces</a></li><li><a href="#tymethod.host">host</a></li><li><a href="#tymethod.introspect">introspect</a></li><li><a href="#tymethod.migration_file_extension">migration_file_extension</a></li><li><a href="#tymethod.migration_len">migration_len</a></li><li><a href="#tymethod.migration_persistence">migration_persistence</a></li><li><a href="#tymethod.migration_summary">migration_summary</a></li><li><a href="#tymethod.render_script">render_script</a></li><li><a href="#tymethod.reset">reset</a></li><li><a href="#tymethod.set_host">set_host</a></li><li><a href="#tymethod.set_params">set_params</a></li><li><a href="#tymethod.set_preview_features">set_preview_features</a></li><li><a href="#tymethod.validate_migrations">validate_migrations</a></li><li><a href="#tymethod.version">version</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.check_database_version_compatibility">check_database_version_compatibility</a></li><li><a href="#method.migration_is_empty">migration_is_empty</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In schema_connector</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="index.html">schema_connector</a>::<wbr><a class="trait" href="#">SchemaConnector</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/schema_connector/schema_connector.rs.html#14-145">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait SchemaConnector: <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static {
<details class="toggle type-contents-toggle"><summary class="hideme"><span>Show 29 methods</span></summary>    // Required methods
    fn <a href="#tymethod.set_host" class="fn">set_host</a>(&amp;mut self, host: <a class="struct" href="https://doc.rust-lang.org/1.72.0/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;dyn <a class="trait" href="trait.ConnectorHost.html" title="trait schema_connector::ConnectorHost">ConnectorHost</a>&gt;);
<span class="item-spacer"></span>    fn <a href="#tymethod.set_params" class="fn">set_params</a>(&amp;mut self, params: <a class="struct" href="struct.ConnectorParams.html" title="struct schema_connector::ConnectorParams">ConnectorParams</a>) -&gt; <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.unit.html">()</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.set_preview_features" class="fn">set_preview_features</a>(
        &amp;mut self,
        preview_features: <a class="struct" href="../enumflags2/struct.BitFlags.html" title="struct enumflags2::BitFlags">BitFlags</a>&lt;<a class="enum" href="../psl_core/common/preview_features/enum.PreviewFeature.html" title="enum psl_core::common::preview_features::PreviewFeature">PreviewFeature</a>&gt;
    );
<span class="item-spacer"></span>    fn <a href="#tymethod.acquire_lock" class="fn">acquire_lock</a>(&amp;mut self) -&gt; <a class="type" href="type.BoxFuture.html" title="type schema_connector::BoxFuture">BoxFuture</a>&lt;'_, <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.unit.html">()</a>&gt;&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.apply_migration" class="fn">apply_migration</a>&lt;'a&gt;(
        &amp;'a mut self,
        migration: &amp;'a <a class="struct" href="struct.Migration.html" title="struct schema_connector::Migration">Migration</a>
    ) -&gt; <a class="type" href="type.BoxFuture.html" title="type schema_connector::BoxFuture">BoxFuture</a>&lt;'a, <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.u32.html">u32</a>&gt;&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.apply_script" class="fn">apply_script</a>&lt;'a&gt;(
        &amp;'a mut self,
        migration_name: &amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.str.html">str</a>,
        script: &amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.str.html">str</a>
    ) -&gt; <a class="type" href="type.BoxFuture.html" title="type schema_connector::BoxFuture">BoxFuture</a>&lt;'a, <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.unit.html">()</a>&gt;&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.connector_type" class="fn">connector_type</a>(&amp;self) -&gt; &amp;'static <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.str.html">str</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.connection_string" class="fn">connection_string</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.72.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.str.html">str</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.create_database" class="fn">create_database</a>(&amp;mut self) -&gt; <a class="type" href="type.BoxFuture.html" title="type schema_connector::BoxFuture">BoxFuture</a>&lt;'_, <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.72.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.db_execute" class="fn">db_execute</a>(
        &amp;mut self,
        script: <a class="struct" href="https://doc.rust-lang.org/1.72.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>
    ) -&gt; <a class="type" href="type.BoxFuture.html" title="type schema_connector::BoxFuture">BoxFuture</a>&lt;'_, <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.unit.html">()</a>&gt;&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.diff" class="fn">diff</a>(&amp;self, from: <a class="struct" href="struct.DatabaseSchema.html" title="struct schema_connector::DatabaseSchema">DatabaseSchema</a>, to: <a class="struct" href="struct.DatabaseSchema.html" title="struct schema_connector::DatabaseSchema">DatabaseSchema</a>) -&gt; <a class="struct" href="struct.Migration.html" title="struct schema_connector::Migration">Migration</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.drop_database" class="fn">drop_database</a>(&amp;mut self) -&gt; <a class="type" href="type.BoxFuture.html" title="type schema_connector::BoxFuture">BoxFuture</a>&lt;'_, <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.unit.html">()</a>&gt;&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.empty_database_schema" class="fn">empty_database_schema</a>(&amp;self) -&gt; <a class="struct" href="struct.DatabaseSchema.html" title="struct schema_connector::DatabaseSchema">DatabaseSchema</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.ensure_connection_validity" class="fn">ensure_connection_validity</a>(
        &amp;mut self
    ) -&gt; <a class="type" href="type.BoxFuture.html" title="type schema_connector::BoxFuture">BoxFuture</a>&lt;'_, <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.unit.html">()</a>&gt;&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.host" class="fn">host</a>(&amp;self) -&gt; &amp;<a class="struct" href="https://doc.rust-lang.org/1.72.0/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;dyn <a class="trait" href="trait.ConnectorHost.html" title="trait schema_connector::ConnectorHost">ConnectorHost</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.version" class="fn">version</a>(&amp;mut self) -&gt; <a class="type" href="type.BoxFuture.html" title="type schema_connector::BoxFuture">BoxFuture</a>&lt;'_, <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.72.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.render_script" class="fn">render_script</a>(
        &amp;self,
        migration: &amp;<a class="struct" href="struct.Migration.html" title="struct schema_connector::Migration">Migration</a>,
        diagnostics: &amp;<a class="struct" href="struct.DestructiveChangeDiagnostics.html" title="struct schema_connector::DestructiveChangeDiagnostics">DestructiveChangeDiagnostics</a>
    ) -&gt; <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.72.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.reset" class="fn">reset</a>(
        &amp;mut self,
        soft: <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.bool.html">bool</a>,
        namespaces: <a class="enum" href="https://doc.rust-lang.org/1.72.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.Namespaces.html" title="struct schema_connector::Namespaces">Namespaces</a>&gt;
    ) -&gt; <a class="type" href="type.BoxFuture.html" title="type schema_connector::BoxFuture">BoxFuture</a>&lt;'_, <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.unit.html">()</a>&gt;&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.migration_file_extension" class="fn">migration_file_extension</a>(&amp;self) -&gt; &amp;'static <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.str.html">str</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.migration_len" class="fn">migration_len</a>(&amp;self, migration: &amp;<a class="struct" href="struct.Migration.html" title="struct schema_connector::Migration">Migration</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.usize.html">usize</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.migration_persistence" class="fn">migration_persistence</a>(&amp;mut self) -&gt; &amp;mut dyn <a class="trait" href="trait.MigrationPersistence.html" title="trait schema_connector::MigrationPersistence">MigrationPersistence</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.migration_summary" class="fn">migration_summary</a>(&amp;self, migration: &amp;<a class="struct" href="struct.Migration.html" title="struct schema_connector::Migration">Migration</a>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.72.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.destructive_change_checker" class="fn">destructive_change_checker</a>(
        &amp;mut self
    ) -&gt; &amp;mut dyn <a class="trait" href="trait.DestructiveChangeChecker.html" title="trait schema_connector::DestructiveChangeChecker">DestructiveChangeChecker</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.database_schema_from_diff_target" class="fn">database_schema_from_diff_target</a>&lt;'a&gt;(
        &amp;'a mut self,
        target: <a class="enum" href="enum.DiffTarget.html" title="enum schema_connector::DiffTarget">DiffTarget</a>&lt;'a&gt;,
        shadow_database_connection_string: <a class="enum" href="https://doc.rust-lang.org/1.72.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.72.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;,
        namespaces: <a class="enum" href="https://doc.rust-lang.org/1.72.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.Namespaces.html" title="struct schema_connector::Namespaces">Namespaces</a>&gt;
    ) -&gt; <a class="type" href="type.BoxFuture.html" title="type schema_connector::BoxFuture">BoxFuture</a>&lt;'a, <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="struct" href="struct.DatabaseSchema.html" title="struct schema_connector::DatabaseSchema">DatabaseSchema</a>&gt;&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.introspect" class="fn">introspect</a>&lt;'a&gt;(
        &amp;'a mut self,
        ctx: &amp;'a <a class="struct" href="struct.IntrospectionContext.html" title="struct schema_connector::IntrospectionContext">IntrospectionContext</a>
    ) -&gt; <a class="type" href="type.BoxFuture.html" title="type schema_connector::BoxFuture">BoxFuture</a>&lt;'a, <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="struct" href="struct.IntrospectionResult.html" title="struct schema_connector::IntrospectionResult">IntrospectionResult</a>&gt;&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.validate_migrations" class="fn">validate_migrations</a>&lt;'a&gt;(
        &amp;'a mut self,
        _migrations: &amp;'a [<a class="struct" href="migrations_directory/struct.MigrationDirectory.html" title="struct schema_connector::migrations_directory::MigrationDirectory">MigrationDirectory</a>],
        namespaces: <a class="enum" href="https://doc.rust-lang.org/1.72.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.Namespaces.html" title="struct schema_connector::Namespaces">Namespaces</a>&gt;
    ) -&gt; <a class="type" href="type.BoxFuture.html" title="type schema_connector::BoxFuture">BoxFuture</a>&lt;'a, <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.unit.html">()</a>&gt;&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.extract_namespaces" class="fn">extract_namespaces</a>(&amp;self, schema: &amp;<a class="struct" href="struct.DatabaseSchema.html" title="struct schema_connector::DatabaseSchema">DatabaseSchema</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.72.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.Namespaces.html" title="struct schema_connector::Namespaces">Namespaces</a>&gt;;

    // Provided methods
    fn <a href="#method.check_database_version_compatibility" class="fn">check_database_version_compatibility</a>(
        &amp;self,
        _datamodel: &amp;<a class="struct" href="../psl_core/struct.ValidatedSchema.html" title="struct psl_core::ValidatedSchema">ValidatedSchema</a>
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.72.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../user_facing_errors/common/struct.DatabaseVersionIncompatibility.html" title="struct user_facing_errors::common::DatabaseVersionIncompatibility">DatabaseVersionIncompatibility</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.migration_is_empty" class="fn">migration_is_empty</a>(&amp;self, migration: &amp;<a class="struct" href="struct.Migration.html" title="struct schema_connector::Migration">Migration</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.bool.html">bool</a> { ... }
</details>}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The top-level trait for connectors. This is the abstraction the schema engine core relies on to
interface with different database backends.</p>
</div></details><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.set_host" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#18">source</a><h4 class="code-header">fn <a href="#tymethod.set_host" class="fn">set_host</a>(&amp;mut self, host: <a class="struct" href="https://doc.rust-lang.org/1.72.0/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;dyn <a class="trait" href="trait.ConnectorHost.html" title="trait schema_connector::ConnectorHost">ConnectorHost</a>&gt;)</h4></section></summary><div class="docblock"><p>Accept a new ConnectorHost.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.set_params" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#22">source</a><h4 class="code-header">fn <a href="#tymethod.set_params" class="fn">set_params</a>(&amp;mut self, params: <a class="struct" href="struct.ConnectorParams.html" title="struct schema_connector::ConnectorParams">ConnectorParams</a>) -&gt; <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Accept and validate new ConnectorParams. This should fail if it is called twice on the same
connector.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.set_preview_features" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#25">source</a><h4 class="code-header">fn <a href="#tymethod.set_preview_features" class="fn">set_preview_features</a>(&amp;mut self, preview_features: <a class="struct" href="../enumflags2/struct.BitFlags.html" title="struct enumflags2::BitFlags">BitFlags</a>&lt;<a class="enum" href="../psl_core/common/preview_features/enum.PreviewFeature.html" title="enum psl_core::common::preview_features::PreviewFeature">PreviewFeature</a>&gt;)</h4></section></summary><div class="docblock"><p>Accept a new set of enabled preview features.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.acquire_lock" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#30">source</a><h4 class="code-header">fn <a href="#tymethod.acquire_lock" class="fn">acquire_lock</a>(&amp;mut self) -&gt; <a class="type" href="type.BoxFuture.html" title="type schema_connector::BoxFuture">BoxFuture</a>&lt;'_, <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.unit.html">()</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>If possible on the target connector, acquire an advisory lock, so multiple instances of migrate do not run concurrently.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.apply_migration" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#33">source</a><h4 class="code-header">fn <a href="#tymethod.apply_migration" class="fn">apply_migration</a>&lt;'a&gt;(
    &amp;'a mut self,
    migration: &amp;'a <a class="struct" href="struct.Migration.html" title="struct schema_connector::Migration">Migration</a>
) -&gt; <a class="type" href="type.BoxFuture.html" title="type schema_connector::BoxFuture">BoxFuture</a>&lt;'a, <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.u32.html">u32</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Applies the migration to the database. Returns the number of executed steps.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.apply_script" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#37">source</a><h4 class="code-header">fn <a href="#tymethod.apply_script" class="fn">apply_script</a>&lt;'a&gt;(
    &amp;'a mut self,
    migration_name: &amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.str.html">str</a>,
    script: &amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.str.html">str</a>
) -&gt; <a class="type" href="type.BoxFuture.html" title="type schema_connector::BoxFuture">BoxFuture</a>&lt;'a, <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.unit.html">()</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Apply a migration script to the database. The migration persistence is
managed by the core.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.connector_type" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#41">source</a><h4 class="code-header">fn <a href="#tymethod.connector_type" class="fn">connector_type</a>(&amp;self) -&gt; &amp;'static <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.str.html">str</a></h4></section></summary><div class="docblock"><p>A string that should identify what database backend is being used. Note that this is not necessarily
the connector name. The SQL connector for example can return “postgresql”, “mysql” or “sqlite”.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.connection_string" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#44">source</a><h4 class="code-header">fn <a href="#tymethod.connection_string" class="fn">connection_string</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.72.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.str.html">str</a>&gt;</h4></section></summary><div class="docblock"><p>Return the connection string that was used to initialize this connector in set_params().</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.create_database" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#47">source</a><h4 class="code-header">fn <a href="#tymethod.create_database" class="fn">create_database</a>(&amp;mut self) -&gt; <a class="type" href="type.BoxFuture.html" title="type schema_connector::BoxFuture">BoxFuture</a>&lt;'_, <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.72.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Create the database referenced by Prisma schema that was used to initialize the connector.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.db_execute" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#50">source</a><h4 class="code-header">fn <a href="#tymethod.db_execute" class="fn">db_execute</a>(&amp;mut self, script: <a class="struct" href="https://doc.rust-lang.org/1.72.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>) -&gt; <a class="type" href="type.BoxFuture.html" title="type schema_connector::BoxFuture">BoxFuture</a>&lt;'_, <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.unit.html">()</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Send a command to the database directly.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.diff" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#53">source</a><h4 class="code-header">fn <a href="#tymethod.diff" class="fn">diff</a>(&amp;self, from: <a class="struct" href="struct.DatabaseSchema.html" title="struct schema_connector::DatabaseSchema">DatabaseSchema</a>, to: <a class="struct" href="struct.DatabaseSchema.html" title="struct schema_connector::DatabaseSchema">DatabaseSchema</a>) -&gt; <a class="struct" href="struct.Migration.html" title="struct schema_connector::Migration">Migration</a></h4></section></summary><div class="docblock"><p>Create a migration by comparing two database schemas.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.drop_database" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#56">source</a><h4 class="code-header">fn <a href="#tymethod.drop_database" class="fn">drop_database</a>(&amp;mut self) -&gt; <a class="type" href="type.BoxFuture.html" title="type schema_connector::BoxFuture">BoxFuture</a>&lt;'_, <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.unit.html">()</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Drop the database referenced by Prisma schema that was used to initialize the connector.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.empty_database_schema" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#59">source</a><h4 class="code-header">fn <a href="#tymethod.empty_database_schema" class="fn">empty_database_schema</a>(&amp;self) -&gt; <a class="struct" href="struct.DatabaseSchema.html" title="struct schema_connector::DatabaseSchema">DatabaseSchema</a></h4></section></summary><div class="docblock"><p>An empty database schema (for diffing).</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.ensure_connection_validity" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#64">source</a><h4 class="code-header">fn <a href="#tymethod.ensure_connection_validity" class="fn">ensure_connection_validity</a>(&amp;mut self) -&gt; <a class="type" href="type.BoxFuture.html" title="type schema_connector::BoxFuture">BoxFuture</a>&lt;'_, <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.unit.html">()</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Make sure the connection to the database is established and valid.
Connectors can choose to connect lazily, but this method should force
them to connect.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.host" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#67">source</a><h4 class="code-header">fn <a href="#tymethod.host" class="fn">host</a>(&amp;self) -&gt; &amp;<a class="struct" href="https://doc.rust-lang.org/1.72.0/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;dyn <a class="trait" href="trait.ConnectorHost.html" title="trait schema_connector::ConnectorHost">ConnectorHost</a>&gt;</h4></section></summary><div class="docblock"><p>Return the ConnectorHost passed with set_host.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.version" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#70">source</a><h4 class="code-header">fn <a href="#tymethod.version" class="fn">version</a>(&amp;mut self) -&gt; <a class="type" href="type.BoxFuture.html" title="type schema_connector::BoxFuture">BoxFuture</a>&lt;'_, <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.72.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>The version of the underlying database.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.render_script" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#76-80">source</a><h4 class="code-header">fn <a href="#tymethod.render_script" class="fn">render_script</a>(
    &amp;self,
    migration: &amp;<a class="struct" href="struct.Migration.html" title="struct schema_connector::Migration">Migration</a>,
    diagnostics: &amp;<a class="struct" href="struct.DestructiveChangeDiagnostics.html" title="struct schema_connector::DestructiveChangeDiagnostics">DestructiveChangeDiagnostics</a>
) -&gt; <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.72.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;</h4></section></summary><div class="docblock"><p>Render the migration to a runnable script.</p>
<p>This should always return with <code>Ok</code> in normal circumstances. The result is currently only
used to signal when the connector does not support rendering to a script.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.reset" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#86">source</a><h4 class="code-header">fn <a href="#tymethod.reset" class="fn">reset</a>(
    &amp;mut self,
    soft: <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.bool.html">bool</a>,
    namespaces: <a class="enum" href="https://doc.rust-lang.org/1.72.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.Namespaces.html" title="struct schema_connector::Namespaces">Namespaces</a>&gt;
) -&gt; <a class="type" href="type.BoxFuture.html" title="type schema_connector::BoxFuture">BoxFuture</a>&lt;'_, <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.unit.html">()</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Drop all database state.</p>
<p>Set the <code>soft</code> parameter to <code>true</code> to force a soft-reset, that is to say a reset that does
not drop the database.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.migration_file_extension" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#98">source</a><h4 class="code-header">fn <a href="#tymethod.migration_file_extension" class="fn">migration_file_extension</a>(&amp;self) -&gt; &amp;'static <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.str.html">str</a></h4></section></summary><div class="docblock"><p>The file extension for generated migration files.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.migration_len" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#107">source</a><h4 class="code-header">fn <a href="#tymethod.migration_len" class="fn">migration_len</a>(&amp;self, migration: &amp;<a class="struct" href="struct.Migration.html" title="struct schema_connector::Migration">Migration</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.usize.html">usize</a></h4></section></summary><div class="docblock"><p>Return the number of steps in the migration.
Invariant: migration_is_empty() == true iff migration_len() == 0.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.migration_persistence" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#110">source</a><h4 class="code-header">fn <a href="#tymethod.migration_persistence" class="fn">migration_persistence</a>(&amp;mut self) -&gt; &amp;mut dyn <a class="trait" href="trait.MigrationPersistence.html" title="trait schema_connector::MigrationPersistence">MigrationPersistence</a></h4></section></summary><div class="docblock"><p>See <a href="trait.MigrationPersistence.html">MigrationPersistence</a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.migration_summary" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#113">source</a><h4 class="code-header">fn <a href="#tymethod.migration_summary" class="fn">migration_summary</a>(&amp;self, migration: &amp;<a class="struct" href="struct.Migration.html" title="struct schema_connector::Migration">Migration</a>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.72.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a></h4></section></summary><div class="docblock"><p>Render a human-readable drift summary for the migration.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.destructive_change_checker" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#116">source</a><h4 class="code-header">fn <a href="#tymethod.destructive_change_checker" class="fn">destructive_change_checker</a>(&amp;mut self) -&gt; &amp;mut dyn <a class="trait" href="trait.DestructiveChangeChecker.html" title="trait schema_connector::DestructiveChangeChecker">DestructiveChangeChecker</a></h4></section></summary><div class="docblock"><p>See <a href="trait.DestructiveChangeChecker.html">DestructiveChangeChecker</a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.database_schema_from_diff_target" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#123-128">source</a><h4 class="code-header">fn <a href="#tymethod.database_schema_from_diff_target" class="fn">database_schema_from_diff_target</a>&lt;'a&gt;(
    &amp;'a mut self,
    target: <a class="enum" href="enum.DiffTarget.html" title="enum schema_connector::DiffTarget">DiffTarget</a>&lt;'a&gt;,
    shadow_database_connection_string: <a class="enum" href="https://doc.rust-lang.org/1.72.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.72.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;,
    namespaces: <a class="enum" href="https://doc.rust-lang.org/1.72.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.Namespaces.html" title="struct schema_connector::Namespaces">Namespaces</a>&gt;
) -&gt; <a class="type" href="type.BoxFuture.html" title="type schema_connector::BoxFuture">BoxFuture</a>&lt;'a, <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="struct" href="struct.DatabaseSchema.html" title="struct schema_connector::DatabaseSchema">DatabaseSchema</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Read a schema for diffing. The shadow database connection string is strictly optional, you
don’t need to pass it if a shadow database url was passed in params, or if it can be
inferred from context, or if it isn’t necessary for the task at hand.
When MultiSchema is enabled, the namespaces are required for diffing anything other than a
prisma schema, because that information is otherwise unavailable.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.introspect" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#131-134">source</a><h4 class="code-header">fn <a href="#tymethod.introspect" class="fn">introspect</a>&lt;'a&gt;(
    &amp;'a mut self,
    ctx: &amp;'a <a class="struct" href="struct.IntrospectionContext.html" title="struct schema_connector::IntrospectionContext">IntrospectionContext</a>
) -&gt; <a class="type" href="type.BoxFuture.html" title="type schema_connector::BoxFuture">BoxFuture</a>&lt;'a, <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="struct" href="struct.IntrospectionResult.html" title="struct schema_connector::IntrospectionResult">IntrospectionResult</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>In-tro-spec-shon.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.validate_migrations" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#137-141">source</a><h4 class="code-header">fn <a href="#tymethod.validate_migrations" class="fn">validate_migrations</a>&lt;'a&gt;(
    &amp;'a mut self,
    _migrations: &amp;'a [<a class="struct" href="migrations_directory/struct.MigrationDirectory.html" title="struct schema_connector::migrations_directory::MigrationDirectory">MigrationDirectory</a>],
    namespaces: <a class="enum" href="https://doc.rust-lang.org/1.72.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.Namespaces.html" title="struct schema_connector::Namespaces">Namespaces</a>&gt;
) -&gt; <a class="type" href="type.BoxFuture.html" title="type schema_connector::BoxFuture">BoxFuture</a>&lt;'a, <a class="type" href="type.ConnectorResult.html" title="type schema_connector::ConnectorResult">ConnectorResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.unit.html">()</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>If possible, check that the passed in migrations apply cleanly.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.extract_namespaces" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#144">source</a><h4 class="code-header">fn <a href="#tymethod.extract_namespaces" class="fn">extract_namespaces</a>(&amp;self, schema: &amp;<a class="struct" href="struct.DatabaseSchema.html" title="struct schema_connector::DatabaseSchema">DatabaseSchema</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.72.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.Namespaces.html" title="struct schema_connector::Namespaces">Namespaces</a>&gt;</h4></section></summary><div class="docblock"><p>Extract the namespaces from a Sql database schema (it will return None for mongodb).</p>
</div></details></div><h2 id="provided-methods" class="small-section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.check_database_version_compatibility" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#90-95">source</a><h4 class="code-header">fn <a href="#method.check_database_version_compatibility" class="fn">check_database_version_compatibility</a>(
    &amp;self,
    _datamodel: &amp;<a class="struct" href="../psl_core/struct.ValidatedSchema.html" title="struct psl_core::ValidatedSchema">ValidatedSchema</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.72.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../user_facing_errors/common/struct.DatabaseVersionIncompatibility.html" title="struct user_facing_errors::common::DatabaseVersionIncompatibility">DatabaseVersionIncompatibility</a>&gt;</h4></section></summary><div class="docblock"><p>Optionally check that the features implied by the provided datamodel are all compatible with
the specific database version being used.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.migration_is_empty" class="method"><a class="srclink rightside" href="../src/schema_connector/schema_connector.rs.html#101-103">source</a><h4 class="code-header">fn <a href="#method.migration_is_empty" class="fn">migration_is_empty</a>(&amp;self, migration: &amp;<a class="struct" href="struct.Migration.html" title="struct schema_connector::Migration">Migration</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Return whether the migration is empty.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"></div><script src="../implementors/schema_connector/schema_connector/trait.SchemaConnector.js" async></script></section></div></main></body></html>