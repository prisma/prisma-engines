<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Various diff (longest common subsequence) algorithms."><title>similar::algorithms - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-9bb858ba049f1f21.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="similar" data-themes="" data-resource-suffix="" data-rustdoc-version="1.72.1 (d5c2e9c34 2023-09-13) (built from a source tarball)" data-channel="1.72.1" data-search-js="search-f6292fe389d70017.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ><script src="../../static.files/storage-59fd9b8ccb335783.js"></script><script defer src="../../static.files/main-0795b7d26be81095.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../similar/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../similar/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Module algorithms</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">similar</a>::<wbr><a class="mod" href="#">algorithms</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/similar/algorithms/mod.rs.html#1-134">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Various diff (longest common subsequence) algorithms.</p>
<p>The implementations of the algorithms in this module are relatively low
level and expose the most generic bounds possible for the algorithm.  To
use them you would typically use the higher level API if possible but
direct access to these algorithms can be useful in some cases.</p>
<p>All these algorithms provide a <code>diff</code> function which takes two indexable
objects (for instance slices) and a <a href="trait.DiffHook.html" title="trait similar::algorithms::DiffHook"><code>DiffHook</code></a>.  As the
diff is generated the diff hook is invoked.  Note that the diff hook does
not get access to the actual values but only the indexes.  This is why the
diff hook is not used outside of the raw algorithm implementations as for
most situations access to the values is useful of required.</p>
<p>The algorithms module really is the most low-level module in similar and
generally not the place to start.</p>
<h2 id="example"><a href="#example">Example</a></h2>
<p>This is a simple example that shows how you can calculate the difference
between two sequences and capture the ops into a vector.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>similar::algorithms::{Algorithm, Replace, Capture, diff_slices};

<span class="kw">let </span>a = <span class="macro">vec!</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];
<span class="kw">let </span>b = <span class="macro">vec!</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">7</span>];
<span class="kw">let </span><span class="kw-2">mut </span>d = Replace::new(Capture::new());
diff_slices(Algorithm::Myers, <span class="kw-2">&amp;mut </span>d, <span class="kw-2">&amp;</span>a, <span class="kw-2">&amp;</span>b).unwrap();
<span class="kw">let </span>ops = d.into_inner().into_ops();</code></pre></div>
<p>The above example is equivalent to using
<a href="../fn.capture_diff_slices.html" title="fn similar::capture_diff_slices"><code>capture_diff_slices</code></a>.</p>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.Algorithm"><code>pub use crate::<a class="enum" href="../enum.Algorithm.html" title="enum similar::Algorithm">Algorithm</a>;</code></div></li></ul><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="lcs/index.html" title="mod similar::algorithms::lcs">lcs</a></div><div class="desc docblock-short">Hunt–McIlroy / Hunt–Szymanski LCS diff algorithm.</div></li><li><div class="item-name"><a class="mod" href="myers/index.html" title="mod similar::algorithms::myers">myers</a></div><div class="desc docblock-short">Myers’ diff algorithm.</div></li><li><div class="item-name"><a class="mod" href="patience/index.html" title="mod similar::algorithms::patience">patience</a></div><div class="desc docblock-short">Patience diff algorithm.</div></li></ul><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Capture.html" title="struct similar::algorithms::Capture">Capture</a></div><div class="desc docblock-short">A <a href="trait.DiffHook.html" title="trait similar::algorithms::DiffHook"><code>DiffHook</code></a> that captures all diff operations.</div></li><li><div class="item-name"><a class="struct" href="struct.Compact.html" title="struct similar::algorithms::Compact">Compact</a></div><div class="desc docblock-short">Performs semantic cleanup operations on a diff.</div></li><li><div class="item-name"><a class="struct" href="struct.IdentifyDistinct.html" title="struct similar::algorithms::IdentifyDistinct">IdentifyDistinct</a></div><div class="desc docblock-short">A utility struct to convert distinct items to unique integers.</div></li><li><div class="item-name"><a class="struct" href="struct.NoFinishHook.html" title="struct similar::algorithms::NoFinishHook">NoFinishHook</a></div><div class="desc docblock-short">Wrapper <a href="trait.DiffHook.html" title="trait similar::algorithms::DiffHook"><code>DiffHook</code></a> that prevents calls to <a href="trait.DiffHook.html#method.finish" title="method similar::algorithms::DiffHook::finish"><code>DiffHook::finish</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.Replace.html" title="struct similar::algorithms::Replace">Replace</a></div><div class="desc docblock-short">A <a href="trait.DiffHook.html" title="trait similar::algorithms::DiffHook"><code>DiffHook</code></a> that combines deletions and insertions to give blocks
of maximal length, and replacements when appropriate.</div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.DiffHook.html" title="trait similar::algorithms::DiffHook">DiffHook</a></div><div class="desc docblock-short">A trait for reacting to an edit script from the “old” version to
the “new” version.</div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.diff.html" title="fn similar::algorithms::diff">diff</a></div><div class="desc docblock-short">Creates a diff between old and new with the given algorithm.</div></li><li><div class="item-name"><a class="fn" href="fn.diff_deadline.html" title="fn similar::algorithms::diff_deadline">diff_deadline</a></div><div class="desc docblock-short">Creates a diff between old and new with the given algorithm with deadline.</div></li><li><div class="item-name"><a class="fn" href="fn.diff_slices.html" title="fn similar::algorithms::diff_slices">diff_slices</a></div><div class="desc docblock-short">Shortcut for diffing slices with a specific algorithm.</div></li><li><div class="item-name"><a class="fn" href="fn.diff_slices_deadline.html" title="fn similar::algorithms::diff_slices_deadline">diff_slices_deadline</a></div><div class="desc docblock-short">Shortcut for diffing slices with a specific algorithm.</div></li></ul></section></div></main></body></html>