<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="“Fallible” iterators."><meta name="keywords" content="rust, rustlang, rust-lang, fallible_iterator"><title>fallible_iterator - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-93196c7a1c3542a8.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../static.files/light-4743e13df3dfe8c4.css"><link rel="stylesheet" disabled href="../static.files/dark-0e1b889528bd466b.css"><link rel="stylesheet" disabled href="../static.files/ayu-65289d5d067c7c66.css"><script id="default-settings" ></script><script src="../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-3367e395607fafc1.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../fallible_iterator/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../fallible_iterator/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Crate fallible_iterator</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.2.0</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">fallible_iterator</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/fallible_iterator/lib.rs.html#1-2606">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>“Fallible” iterators.</p>
<p>The iterator APIs in the Rust standard library do not support iteration
that can fail in a first class manner. These iterators are typically modeled
as iterating over <code>Result&lt;T, E&gt;</code> values; for example, the <code>Lines</code> iterator
returns <code>io::Result&lt;String&gt;</code>s. When simply iterating over these types, the
value being iterated over must be unwrapped in some way before it can be
used:</p>

<div class="example-wrap ignore"><div class='tooltip'>ⓘ</div><pre class="rust rust-example-rendered"><code><span class="kw">for </span>line <span class="kw">in </span>reader.lines() {
    <span class="kw">let </span>line = line<span class="question-mark">?</span>;
    <span class="comment">// work with line
</span>}</code></pre></div>
<p>In addition, many of the additional methods on the <code>Iterator</code> trait will
not behave properly in the presence of errors when working with these kinds
of iterators. For example, if one wanted to count the number of lines of
text in a <code>Read</code>er, this might be a way to go about it:</p>

<div class="example-wrap ignore"><div class='tooltip'>ⓘ</div><pre class="rust rust-example-rendered"><code><span class="kw">let </span>count = reader.lines().count();</code></pre></div>
<p>This will return the proper value when the reader operates successfully, but
if it encounters an IO error, the result will either be slightly higher than
expected if the error is transient, or it may run forever if the error is
returned repeatedly!</p>
<p>In contrast, a fallible iterator is built around the concept that a call to
<code>next</code> can fail. The trait has an additional <code>Error</code> associated type in
addition to the <code>Item</code> type, and <code>next</code> returns <code>Result&lt;Option&lt;Self::Item&gt;, Self::Error&gt;</code> rather than <code>Option&lt;Self::Item&gt;</code>. Methods like <code>count</code> return
<code>Result</code>s as well.</p>
<p>This does mean that fallible iterators are incompatible with Rust’s <code>for</code>
loop syntax, but <code>while let</code> loops offer a similar level of ergonomics:</p>

<div class="example-wrap ignore"><div class='tooltip'>ⓘ</div><pre class="rust rust-example-rendered"><code><span class="kw">while let </span><span class="prelude-val">Some</span>(item) = iter.next()<span class="question-mark">? </span>{
    <span class="comment">// work with item
</span>}</code></pre></div>
<h3 id="fallible-closure-arguments"><a href="#fallible-closure-arguments">Fallible closure arguments</a></h3>
<p>Like <code>Iterator</code>, many <code>FallibleIterator</code> methods take closures as arguments.
These use the same signatures as their <code>Iterator</code> counterparts, except that
<code>FallibleIterator</code> expects the closures to be fallible: they return
<code>Result&lt;T, Self::Error&gt;</code> instead of simply <code>T</code>.</p>
<p>For example, the standard library’s <code>Iterator::filter</code> adapter method
filters the underlying iterator according to a predicate provided by the
user, whose return type is <code>bool</code>. In <code>FallibleIterator::filter</code>, however,
the predicate returns <code>Result&lt;bool, Self::Error&gt;</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>numbers = convert(<span class="string">&quot;100\n200\nfern\n400&quot;</span>.lines().map(<span class="prelude-val">Ok</span>::&lt;<span class="kw-2">&amp;</span>str, Box&lt;Error&gt;&gt;));
<span class="kw">let </span>big_numbers = numbers.filter(|n| <span class="prelude-val">Ok</span>(u64::from_str(n)<span class="question-mark">? </span>&gt; <span class="number">100</span>));
<span class="macro">assert!</span>(big_numbers.count().is_err());</code></pre></div>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Chain.html" title="fallible_iterator::Chain struct">Chain</a></div><div class="item-right docblock-short">An iterator which yields the elements of one iterator followed by another.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Cloned.html" title="fallible_iterator::Cloned struct">Cloned</a></div><div class="item-right docblock-short">An iterator which clones the elements of the underlying iterator.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Convert.html" title="fallible_iterator::Convert struct">Convert</a></div><div class="item-right docblock-short">A fallible iterator that wraps a normal iterator over <code>Result</code>s.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Cycle.html" title="fallible_iterator::Cycle struct">Cycle</a></div><div class="item-right docblock-short">An iterator which cycles another endlessly.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Enumerate.html" title="fallible_iterator::Enumerate struct">Enumerate</a></div><div class="item-right docblock-short">An iterator that yields the iteration count as well as the values of the
underlying iterator.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Filter.html" title="fallible_iterator::Filter struct">Filter</a></div><div class="item-right docblock-short">An iterator which uses a fallible predicate to determine which values of the
underlying iterator should be yielded.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.FilterMap.html" title="fallible_iterator::FilterMap struct">FilterMap</a></div><div class="item-right docblock-short">An iterator which both filters and maps the values of the underlying
iterator.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.FlatMap.html" title="fallible_iterator::FlatMap struct">FlatMap</a></div><div class="item-right docblock-short">An iterator which maps each element to another iterator, yielding those iterator’s elements.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Flatten.html" title="fallible_iterator::Flatten struct">Flatten</a></div><div class="item-right docblock-short">An iterator which flattens an iterator of iterators, yielding those iterators’ elements.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Fuse.html" title="fallible_iterator::Fuse struct">Fuse</a></div><div class="item-right docblock-short">An iterator that yields <code>Ok(None)</code> forever after the underlying iterator
yields <code>Ok(None)</code> once.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Inspect.html" title="fallible_iterator::Inspect struct">Inspect</a></div><div class="item-right docblock-short">An iterator which passes each element to a closure before returning it.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Iterator.html" title="fallible_iterator::Iterator struct">Iterator</a></div><div class="item-right docblock-short">A normal (non-fallible) iterator which wraps a fallible iterator.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Map.html" title="fallible_iterator::Map struct">Map</a></div><div class="item-right docblock-short">An iterator which applies a fallible transform to the elements of the
underlying iterator.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.MapErr.html" title="fallible_iterator::MapErr struct">MapErr</a></div><div class="item-right docblock-short">An iterator which applies a transform to the errors of the underlying
iterator.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Peekable.html" title="fallible_iterator::Peekable struct">Peekable</a></div><div class="item-right docblock-short">An iterator which can look at the next element without consuming it.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Rev.html" title="fallible_iterator::Rev struct">Rev</a></div><div class="item-right docblock-short">An iterator which yields elements of the underlying iterator in reverse
order.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Scan.html" title="fallible_iterator::Scan struct">Scan</a></div><div class="item-right docblock-short">An iterator which applies a stateful closure.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Skip.html" title="fallible_iterator::Skip struct">Skip</a></div><div class="item-right docblock-short">An iterator which skips initial elements.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SkipWhile.html" title="fallible_iterator::SkipWhile struct">SkipWhile</a></div><div class="item-right docblock-short">An iterator which skips initial elements based on a predicate.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StepBy.html" title="fallible_iterator::StepBy struct">StepBy</a></div><div class="item-right docblock-short">An iterator which steps through the elements of the underlying iterator by a certain amount.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Take.html" title="fallible_iterator::Take struct">Take</a></div><div class="item-right docblock-short">An iterator which yields a limited number of elements from the underlying
iterator.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.TakeWhile.html" title="fallible_iterator::TakeWhile struct">TakeWhile</a></div><div class="item-right docblock-short">An iterator which yields elements based on a predicate.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Zip.html" title="fallible_iterator::Zip struct">Zip</a></div><div class="item-right docblock-short">An iterator that yields pairs of this iterator’s and another iterator’s
values.</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.DoubleEndedFallibleIterator.html" title="fallible_iterator::DoubleEndedFallibleIterator trait">DoubleEndedFallibleIterator</a></div><div class="item-right docblock-short">A fallible iterator able to yield elements from both ends.</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.FallibleIterator.html" title="fallible_iterator::FallibleIterator trait">FallibleIterator</a></div><div class="item-right docblock-short">An <code>Iterator</code>-like trait that allows for calculation of items to fail.</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.FromFallibleIterator.html" title="fallible_iterator::FromFallibleIterator trait">FromFallibleIterator</a></div><div class="item-right docblock-short">Conversion from a fallible iterator.</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.IntoFallibleIterator.html" title="fallible_iterator::IntoFallibleIterator trait">IntoFallibleIterator</a></div><div class="item-right docblock-short">Conversion into a <code>FallibleIterator</code>.</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.convert.html" title="fallible_iterator::convert fn">convert</a></div><div class="item-right docblock-short">Converts an <code>Iterator&lt;Item = Result&lt;T, E&gt;&gt;</code> into a <code>FallibleIterator&lt;Item = T, Error = E&gt;</code>.</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="fallible_iterator" data-themes="" data-resource-suffix="" data-rustdoc-version="1.68.0 (2c8cc3432 2023-03-06)" data-search-js="search-98d53477a794af0b.js" data-settings-js="settings-c3c521c753752a1a.js" data-settings-css="settings-08ddfdda51b8ee2e.css" ></div></body></html>