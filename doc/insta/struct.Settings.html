<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Configures how insta operates at test time."><title>Settings in insta - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-cb6f1f67f1bcd037.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="insta" data-themes="" data-resource-suffix="" data-rustdoc-version="1.73.0 (cc66ad468 2023-10-03) (built from a source tarball)" data-channel="1.73.0" data-search-js="search-6dfdfced5eff6596.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-1596385f77d47ef2.css" data-theme-dark-css="dark-0a43001d3fc2282c.css" data-theme-ayu-css="ayu-fd19013d6ce078bf.css" ><script src="../static.files/storage-db41da1a38ea3cb8.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-0795b7d26be81095.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-1596385f77d47ef2.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-0a43001d3fc2282c.css"><link rel="stylesheet" href="../static.files/noscript-cffde32267a19fd6.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../insta/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../insta/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Settings</a></h2><div class="sidebar-elems"><section><h3><a href="#implementations">Methods</a></h3><ul class="block"><li><a href="#method.bind">bind</a></li><li><a href="#method.bind_async">bind_async</a></li><li><a href="#method.bind_to_scope">bind_to_scope</a></li><li><a href="#method.clone_current">clone_current</a></li><li><a href="#method.description">description</a></li><li><a href="#method.has_info">has_info</a></li><li><a href="#method.input_file">input_file</a></li><li><a href="#method.new">new</a></li><li><a href="#method.omit_expression">omit_expression</a></li><li><a href="#method.prepend_module_to_snapshot">prepend_module_to_snapshot</a></li><li><a href="#method.remove_description">remove_description</a></li><li><a href="#method.remove_info">remove_info</a></li><li><a href="#method.remove_input_file">remove_input_file</a></li><li><a href="#method.remove_snapshot_suffix">remove_snapshot_suffix</a></li><li><a href="#method.set_description">set_description</a></li><li><a href="#method.set_input_file">set_input_file</a></li><li><a href="#method.set_omit_expression">set_omit_expression</a></li><li><a href="#method.set_prepend_module_to_snapshot">set_prepend_module_to_snapshot</a></li><li><a href="#method.set_raw_info">set_raw_info</a></li><li><a href="#method.set_snapshot_path">set_snapshot_path</a></li><li><a href="#method.set_snapshot_suffix">set_snapshot_suffix</a></li><li><a href="#method.set_sort_maps">set_sort_maps</a></li><li><a href="#method.snapshot_path">snapshot_path</a></li><li><a href="#method.snapshot_suffix">snapshot_suffix</a></li><li><a href="#method.sort_maps">sort_maps</a></li></ul><h3><a href="#trait-implementations">Trait Implementations</a></h3><ul class="block"><li><a href="#impl-Clone-for-Settings">Clone</a></li><li><a href="#impl-Default-for-Settings">Default</a></li></ul><h3><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul class="block"><li><a href="#impl-RefUnwindSafe-for-Settings">RefUnwindSafe</a></li><li><a href="#impl-Send-for-Settings">Send</a></li><li><a href="#impl-Sync-for-Settings">Sync</a></li><li><a href="#impl-Unpin-for-Settings">Unpin</a></li><li><a href="#impl-UnwindSafe-for-Settings">UnwindSafe</a></li></ul><h3><a href="#blanket-implementations">Blanket Implementations</a></h3><ul class="block"><li><a href="#impl-Any-for-Settings">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-Settings">Borrow&lt;T&gt;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-Settings">BorrowMut&lt;T&gt;</a></li><li><a href="#impl-From%3CT%3E-for-Settings">From&lt;T&gt;</a></li><li><a href="#impl-Into%3CU%3E-for-Settings">Into&lt;U&gt;</a></li><li><a href="#impl-ToOwned-for-Settings">ToOwned</a></li><li><a href="#impl-TryFrom%3CU%3E-for-Settings">TryFrom&lt;U&gt;</a></li><li><a href="#impl-TryInto%3CU%3E-for-Settings">TryInto&lt;U&gt;</a></li></ul></section><h2><a href="index.html">In insta</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Struct <a href="index.html">insta</a>::<wbr><a class="struct" href="#">Settings</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/insta/settings.rs.html#164-166">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub struct Settings { /* private fields */ }</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Configures how insta operates at test time.</p>
<p>Settings are always bound to a thread and some default settings are always
available.  These settings can be changed and influence how insta behaves on
that thread.  They can either temporarily or permanently changed.</p>
<p>This can be used to influence how the snapshot macros operate.
For instance it can be useful to force ordering of maps when
unordered structures are used through settings.</p>
<p>Some of the settings can be changed but shouldn’t as it will make it harder
for tools like cargo-insta or an editor integration to locate the snapshot
files.</p>
<p>Settings can also be configured with the <a href="macro.with_settings.html" title="macro insta::with_settings"><code>with_settings!</code></a> macro.</p>
<p>Example:</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="kw">use </span>insta;

<span class="kw">let </span><span class="kw-2">mut </span>settings = insta::Settings::clone_current();
settings.set_sort_maps(<span class="bool-val">true</span>);
settings.bind(|| {
    <span class="comment">// runs the assertion with the changed settings enabled
    </span><span class="macro">insta::assert_snapshot!</span>(...);
});</code></pre></div>
</div></details><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Settings" class="impl"><a class="src rightside" href="../src/insta/settings.rs.html#176-580">source</a><a href="#impl-Settings" class="anchor">§</a><h3 class="code-header">impl <a class="struct" href="struct.Settings.html" title="struct insta::Settings">Settings</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.new" class="method"><a class="src rightside" href="../src/insta/settings.rs.html#181-183">source</a><h4 class="code-header">pub fn <a href="#method.new" class="fn">new</a>() -&gt; <a class="struct" href="struct.Settings.html" title="struct insta::Settings">Settings</a></h4></section></summary><div class="docblock"><p>Returns the default settings.</p>
<p>It’s recommended to use <code>clone_current</code> instead so that
already applied modifications are not discarded.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.clone_current" class="method"><a class="src rightside" href="../src/insta/settings.rs.html#186-188">source</a><h4 class="code-header">pub fn <a href="#method.clone_current" class="fn">clone_current</a>() -&gt; <a class="struct" href="struct.Settings.html" title="struct insta::Settings">Settings</a></h4></section></summary><div class="docblock"><p>Returns a copy of the current settings.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.set_sort_maps" class="method"><a class="src rightside" href="../src/insta/settings.rs.html#202-204">source</a><h4 class="code-header">pub fn <a href="#method.set_sort_maps" class="fn">set_sort_maps</a>(&amp;mut self, value: <a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.bool.html">bool</a>)</h4></section></summary><div class="docblock"><p>Enables forceful sorting of maps before serialization.</p>
<p>Note that this only applies to snapshots that undergo serialization
(eg: does not work for <code>assert_debug_snapshot!</code>.)</p>
<p>The default value is <code>false</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.sort_maps" class="method"><a class="src rightside" href="../src/insta/settings.rs.html#207-209">source</a><h4 class="code-header">pub fn <a href="#method.sort_maps" class="fn">sort_maps</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Returns the current value for map sorting.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.set_prepend_module_to_snapshot" class="method"><a class="src rightside" href="../src/insta/settings.rs.html#218-220">source</a><h4 class="code-header">pub fn <a href="#method.set_prepend_module_to_snapshot" class="fn">set_prepend_module_to_snapshot</a>(&amp;mut self, value: <a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.bool.html">bool</a>)</h4></section></summary><div class="docblock"><p>Disables prepending of modules to the snapshot filename.</p>
<p>By default the filename of a snapshot is <code>&lt;module&gt;__&lt;name&gt;.snap</code>.
Setting this flag to <code>false</code> changes the snapshot filename to just
<code>&lt;name&gt;.snap</code>.</p>
<p>The default value is <code>true</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.prepend_module_to_snapshot" class="method"><a class="src rightside" href="../src/insta/settings.rs.html#223-225">source</a><h4 class="code-header">pub fn <a href="#method.prepend_module_to_snapshot" class="fn">prepend_module_to_snapshot</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Returns the current value for module name prepending.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.set_snapshot_suffix" class="method"><a class="src rightside" href="../src/insta/settings.rs.html#252-254">source</a><h4 class="code-header">pub fn <a href="#method.set_snapshot_suffix" class="fn">set_snapshot_suffix</a>&lt;I: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;&gt;(&amp;mut self, suffix: I)</h4></section></summary><div class="docblock"><p>Sets the snapshot suffix.</p>
<p>The snapshot suffix is added to all snapshot names with an <code>@</code> sign
between.  For instance if the snapshot suffix is set to <code>&quot;foo&quot;</code> and
the snapshot would be named <code>&quot;snapshot&quot;</code> it turns into <code>&quot;snapshot@foo&quot;</code>.
This is useful to separate snapshots if you want to use test
parameterization.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.remove_snapshot_suffix" class="method"><a class="src rightside" href="../src/insta/settings.rs.html#257-259">source</a><h4 class="code-header">pub fn <a href="#method.remove_snapshot_suffix" class="fn">remove_snapshot_suffix</a>(&amp;mut self)</h4></section></summary><div class="docblock"><p>Removes the snapshot suffix.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.snapshot_suffix" class="method"><a class="src rightside" href="../src/insta/settings.rs.html#262-268">source</a><h4 class="code-header">pub fn <a href="#method.snapshot_suffix" class="fn">snapshot_suffix</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.73.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.str.html">str</a>&gt;</h4></section></summary><div class="docblock"><p>Returns the current snapshot suffix.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.set_input_file" class="method"><a class="src rightside" href="../src/insta/settings.rs.html#276-278">source</a><h4 class="code-header">pub fn <a href="#method.set_input_file" class="fn">set_input_file</a>&lt;P: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/std/path/struct.Path.html" title="struct std::path::Path">Path</a>&gt;&gt;(&amp;mut self, p: P)</h4></section></summary><div class="docblock"><p>Sets the input file reference.</p>
<p>This value is completely unused by the snapshot testing system but
it lets you store some meta data with a snapshot that refers you back
to the input file.  The path stored here is made relative to the
workspace root before storing with the snapshot.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.remove_input_file" class="method"><a class="src rightside" href="../src/insta/settings.rs.html#281-283">source</a><h4 class="code-header">pub fn <a href="#method.remove_input_file" class="fn">remove_input_file</a>(&amp;mut self)</h4></section></summary><div class="docblock"><p>Removes the input file reference.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.input_file" class="method"><a class="src rightside" href="../src/insta/settings.rs.html#286-288">source</a><h4 class="code-header">pub fn <a href="#method.input_file" class="fn">input_file</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.73.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="struct" href="https://doc.rust-lang.org/1.73.0/std/path/struct.Path.html" title="struct std::path::Path">Path</a>&gt;</h4></section></summary><div class="docblock"><p>Returns the current input file reference.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.set_description" class="method"><a class="src rightside" href="../src/insta/settings.rs.html#299-301">source</a><h4 class="code-header">pub fn <a href="#method.set_description" class="fn">set_description</a>&lt;S: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;&gt;(&amp;mut self, value: S)</h4></section></summary><div class="docblock"><p>Sets the description.</p>
<p>The description is stored alongside the snapshot and will be displayed
in the diff UI.  When a snapshot is captured the Rust expression for that
snapshot is always retained.  However sometimes that information is not
super useful by itself, particularly when working with loops and generated
tests.  In that case the <code>description</code> can be set as extra information.</p>
<p>See also <a href="Self::set_info"><code>set_info</code></a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.remove_description" class="method"><a class="src rightside" href="../src/insta/settings.rs.html#304-306">source</a><h4 class="code-header">pub fn <a href="#method.remove_description" class="fn">remove_description</a>(&amp;mut self)</h4></section></summary><div class="docblock"><p>Removes the description.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.description" class="method"><a class="src rightside" href="../src/insta/settings.rs.html#309-311">source</a><h4 class="code-header">pub fn <a href="#method.description" class="fn">description</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.73.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.str.html">str</a>&gt;</h4></section></summary><div class="docblock"><p>Returns the current description</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.set_raw_info" class="method"><a class="src rightside" href="../src/insta/settings.rs.html#333-335">source</a><h4 class="code-header">pub fn <a href="#method.set_raw_info" class="fn">set_raw_info</a>(&amp;mut self, content: &amp;<a class="enum" href="internals/enum.Content.html" title="enum insta::internals::Content">Content</a>)</h4></section></summary><div class="docblock"><p>Sets the info from a content object.</p>
<p>This works like <a href="Self::set_info"><code>set_info</code></a> but does not require <code>serde</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.remove_info" class="method"><a class="src rightside" href="../src/insta/settings.rs.html#338-340">source</a><h4 class="code-header">pub fn <a href="#method.remove_info" class="fn">remove_info</a>(&amp;mut self)</h4></section></summary><div class="docblock"><p>Removes the info.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.has_info" class="method"><a class="src rightside" href="../src/insta/settings.rs.html#348-350">source</a><h4 class="code-header">pub fn <a href="#method.has_info" class="fn">has_info</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Returns the current info</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.set_omit_expression" class="method"><a class="src rightside" href="../src/insta/settings.rs.html#353-355">source</a><h4 class="code-header">pub fn <a href="#method.set_omit_expression" class="fn">set_omit_expression</a>(&amp;mut self, value: <a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.bool.html">bool</a>)</h4></section></summary><div class="docblock"><p>If set to true, does not retain the expression in the snapshot.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.omit_expression" class="method"><a class="src rightside" href="../src/insta/settings.rs.html#358-360">source</a><h4 class="code-header">pub fn <a href="#method.omit_expression" class="fn">omit_expression</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Returns true if expressions are omitted from snapshots.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.set_snapshot_path" class="method"><a class="src rightside" href="../src/insta/settings.rs.html#485-487">source</a><h4 class="code-header">pub fn <a href="#method.set_snapshot_path" class="fn">set_snapshot_path</a>&lt;P: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/std/path/struct.Path.html" title="struct std::path::Path">Path</a>&gt;&gt;(&amp;mut self, path: P)</h4></section></summary><div class="docblock"><p>Sets the snapshot path.</p>
<p>If not absolute it’s relative to where the test is in.</p>
<p>Defaults to <code>snapshots</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.snapshot_path" class="method"><a class="src rightside" href="../src/insta/settings.rs.html#490-492">source</a><h4 class="code-header">pub fn <a href="#method.snapshot_path" class="fn">snapshot_path</a>(&amp;self) -&gt; &amp;<a class="struct" href="https://doc.rust-lang.org/1.73.0/std/path/struct.Path.html" title="struct std::path::Path">Path</a></h4></section></summary><div class="docblock"><p>Returns the snapshot path.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.bind" class="method"><a class="src rightside" href="../src/insta/settings.rs.html#508-511">source</a><h4 class="code-header">pub fn <a href="#method.bind" class="fn">bind</a>&lt;F: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/ops/function/trait.FnOnce.html" title="trait core::ops::function::FnOnce">FnOnce</a>() -&gt; R, R&gt;(&amp;self, f: F) -&gt; R</h4></section></summary><div class="docblock"><p>Runs a function with the current settings bound to the thread.</p>
<p>This is an alternative to <a href="struct.Settings.html#method.bind_to_scope" title="method insta::Settings::bind_to_scope"><code>bind_to_scope</code></a>
which does not require holding on to a drop guard.  The return value
of the closure is passed through.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span><span class="kw-2">mut </span>settings = Settings::clone_current();
settings.set_sort_maps(<span class="bool-val">true</span>);
settings.bind(|| {
    <span class="comment">// do stuff here
</span>});</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.bind_async" class="method"><a class="src rightside" href="../src/insta/settings.rs.html#526-551">source</a><h4 class="code-header">pub fn <a href="#method.bind_async" class="fn">bind_async</a>&lt;F: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = T&gt;, T&gt;(
    &amp;self,
    future: F
) -&gt; impl <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = T&gt;</h4></section></summary><div class="docblock"><p>Like <code>bind</code> but for futures.</p>
<p>This lets you bind settings for the duration of a future like this:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>settings = Settings::new();
settings.bind_async(<span class="kw">async </span>{
    <span class="comment">// do assertions here
</span>}).<span class="kw">await</span>;</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.bind_to_scope" class="method"><a class="src rightside" href="../src/insta/settings.rs.html#568-574">source</a><h4 class="code-header">pub fn <a href="#method.bind_to_scope" class="fn">bind_to_scope</a>(&amp;self) -&gt; <a class="struct" href="internals/struct.SettingsBindDropGuard.html" title="struct insta::internals::SettingsBindDropGuard">SettingsBindDropGuard</a></h4></section></summary><div class="docblock"><p>Binds the settings to the current thread and resets when the drop
guard is released.</p>
<p>This is the recommended way to temporarily bind settings and replaces
the earlier <a href="struct.Settings.html#method.bind_to_scope" title="method insta::Settings::bind_to_scope"><code>bind_to_scope</code></a> and relies on
drop guards.  An alterantive is <a href="struct.Settings.html#method.bind" title="method insta::Settings::bind"><code>bind</code></a> which binds
for the duration of the block it wraps.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span><span class="kw-2">mut </span>settings = Settings::clone_current();
settings.set_sort_maps(<span class="bool-val">true</span>);
<span class="kw">let </span>_guard = settings.bind_to_scope();
<span class="comment">// do stuff here</span></code></pre></div>
</div></details></div></details></div><h2 id="trait-implementations" class="small-section-header">Trait Implementations<a href="#trait-implementations" class="anchor">§</a></h2><div id="trait-implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Clone-for-Settings" class="impl"><a class="src rightside" href="../src/insta/settings.rs.html#163">source</a><a href="#impl-Clone-for-Settings" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> for <a class="struct" href="struct.Settings.html" title="struct insta::Settings">Settings</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.clone" class="method trait-impl"><a class="src rightside" href="../src/insta/settings.rs.html#163">source</a><a href="#method.clone" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.73.0/core/clone/trait.Clone.html#tymethod.clone" class="fn">clone</a>(&amp;self) -&gt; <a class="struct" href="struct.Settings.html" title="struct insta::Settings">Settings</a></h4></section></summary><div class='docblock'>Returns a copy of the value. <a href="https://doc.rust-lang.org/1.73.0/core/clone/trait.Clone.html#tymethod.clone">Read more</a></div></details><details class="toggle method-toggle" open><summary><section id="method.clone_from" class="method trait-impl"><span class="rightside"><span class="since" title="Stable since Rust version 1.0.0">1.0.0</span> · <a class="src" href="https://doc.rust-lang.org/1.73.0/src/core/clone.rs.html#169">source</a></span><a href="#method.clone_from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.73.0/core/clone/trait.Clone.html#method.clone_from" class="fn">clone_from</a>(&amp;mut self, source: <a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.reference.html">&amp;Self</a>)</h4></section></summary><div class='docblock'>Performs copy-assignment from <code>source</code>. <a href="https://doc.rust-lang.org/1.73.0/core/clone/trait.Clone.html#method.clone_from">Read more</a></div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-Default-for-Settings" class="impl"><a class="src rightside" href="../src/insta/settings.rs.html#168-174">source</a><a href="#impl-Default-for-Settings" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/default/trait.Default.html" title="trait core::default::Default">Default</a> for <a class="struct" href="struct.Settings.html" title="struct insta::Settings">Settings</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.default" class="method trait-impl"><a class="src rightside" href="../src/insta/settings.rs.html#169-173">source</a><a href="#method.default" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.73.0/core/default/trait.Default.html#tymethod.default" class="fn">default</a>() -&gt; <a class="struct" href="struct.Settings.html" title="struct insta::Settings">Settings</a></h4></section></summary><div class='docblock'>Returns the “default value” for a type. <a href="https://doc.rust-lang.org/1.73.0/core/default/trait.Default.html#tymethod.default">Read more</a></div></details></div></details></div><h2 id="synthetic-implementations" class="small-section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor">§</a></h2><div id="synthetic-implementations-list"><section id="impl-RefUnwindSafe-for-Settings" class="impl"><a href="#impl-RefUnwindSafe-for-Settings" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.Settings.html" title="struct insta::Settings">Settings</a></h3></section><section id="impl-Send-for-Settings" class="impl"><a href="#impl-Send-for-Settings" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.Settings.html" title="struct insta::Settings">Settings</a></h3></section><section id="impl-Sync-for-Settings" class="impl"><a href="#impl-Sync-for-Settings" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.Settings.html" title="struct insta::Settings">Settings</a></h3></section><section id="impl-Unpin-for-Settings" class="impl"><a href="#impl-Unpin-for-Settings" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.Settings.html" title="struct insta::Settings">Settings</a></h3></section><section id="impl-UnwindSafe-for-Settings" class="impl"><a href="#impl-UnwindSafe-for-Settings" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.Settings.html" title="struct insta::Settings">Settings</a></h3></section></div><h2 id="blanket-implementations" class="small-section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor">§</a></h2><div id="blanket-implementations-list"><details class="toggle implementors-toggle"><summary><section id="impl-Any-for-Settings" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.73.0/src/core/any.rs.html#135">source</a><a href="#impl-Any-for-Settings" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T<span class="where fmt-newline">where
    T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.73.0/src/core/any.rs.html#136">source</a><a href="#method.type_id" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.73.0/core/any/trait.Any.html#tymethod.type_id" class="fn">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.73.0/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/1.73.0/core/any/trait.Any.html#tymethod.type_id">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-Settings" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.73.0/src/core/borrow.rs.html#208">source</a><a href="#impl-Borrow%3CT%3E-for-Settings" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T<span class="where fmt-newline">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.73.0/src/core/borrow.rs.html#210">source</a><a href="#method.borrow" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.73.0/core/borrow/trait.Borrow.html#tymethod.borrow" class="fn">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.reference.html">&amp;T</a></h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.73.0/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-Settings" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.73.0/src/core/borrow.rs.html#216">source</a><a href="#impl-BorrowMut%3CT%3E-for-Settings" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T<span class="where fmt-newline">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.73.0/src/core/borrow.rs.html#217">source</a><a href="#method.borrow_mut" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.73.0/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fn">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.reference.html">&amp;mut T</a></h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.73.0/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-From%3CT%3E-for-Settings" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.73.0/src/core/convert/mod.rs.html#722">source</a><a href="#impl-From%3CT%3E-for-Settings" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.73.0/src/core/convert/mod.rs.html#725">source</a><a href="#method.from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.73.0/core/convert/trait.From.html#tymethod.from" class="fn">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E-for-Settings" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.73.0/src/core/convert/mod.rs.html#706">source</a><a href="#impl-Into%3CU%3E-for-Settings" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T<span class="where fmt-newline">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.73.0/src/core/convert/mod.rs.html#715">source</a><a href="#method.into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.73.0/core/convert/trait.Into.html#tymethod.into" class="fn">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="https://doc.rust-lang.org/1.73.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-ToOwned-for-Settings" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.73.0/src/alloc/borrow.rs.html#82">source</a><a href="#impl-ToOwned-for-Settings" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.73.0/alloc/borrow/trait.ToOwned.html" title="trait alloc::borrow::ToOwned">ToOwned</a> for T<span class="where fmt-newline">where
    T: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,</span></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Owned" class="associatedtype trait-impl"><a href="#associatedtype.Owned" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.73.0/alloc/borrow/trait.ToOwned.html#associatedtype.Owned" class="associatedtype">Owned</a> = T</h4></section></summary><div class='docblock'>The resulting type after obtaining ownership.</div></details><details class="toggle method-toggle" open><summary><section id="method.to_owned" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.73.0/src/alloc/borrow.rs.html#87">source</a><a href="#method.to_owned" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.73.0/alloc/borrow/trait.ToOwned.html#tymethod.to_owned" class="fn">to_owned</a>(&amp;self) -&gt; T</h4></section></summary><div class='docblock'>Creates owned data from borrowed data, usually by cloning. <a href="https://doc.rust-lang.org/1.73.0/alloc/borrow/trait.ToOwned.html#tymethod.to_owned">Read more</a></div></details><details class="toggle method-toggle" open><summary><section id="method.clone_into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.73.0/src/alloc/borrow.rs.html#91">source</a><a href="#method.clone_into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.73.0/alloc/borrow/trait.ToOwned.html#method.clone_into" class="fn">clone_into</a>(&amp;self, target: <a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.reference.html">&amp;mut T</a>)</h4></section></summary><div class='docblock'>Uses borrowed data to replace owned data, usually by cloning. <a href="https://doc.rust-lang.org/1.73.0/alloc/borrow/trait.ToOwned.html#method.clone_into">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E-for-Settings" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.73.0/src/core/convert/mod.rs.html#762">source</a><a href="#impl-TryFrom%3CU%3E-for-Settings" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T<span class="where fmt-newline">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error" class="associatedtype trait-impl"><a href="#associatedtype.Error" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.73.0/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/1.73.0/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.73.0/src/core/convert/mod.rs.html#769">source</a><a href="#method.try_from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.73.0/core/convert/trait.TryFrom.html#tymethod.try_from" class="fn">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.73.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.73.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E-for-Settings" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.73.0/src/core/convert/mod.rs.html#747">source</a><a href="#impl-TryInto%3CU%3E-for-Settings" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T<span class="where fmt-newline">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error-1" class="associatedtype trait-impl"><a href="#associatedtype.Error-1" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.73.0/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.73.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.73.0/src/core/convert/mod.rs.html#754">source</a><a href="#method.try_into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.73.0/core/convert/trait.TryInto.html#tymethod.try_into" class="fn">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.73.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.73.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details></div></section></div></main></body></html>