datasource db {
  provider = "postgresql"
}

generator client {
  provider        = "prisma-client"
  engineType      = "client"
  output          = "../src/prisma-types"
  previewFeatures = ["partialIndexes"]
}

model User {
  id     Int    @id
  email  String
  status String

  @@unique([email], where: raw("status = 'active'"))
  @@index([email], where: raw("deletedAt IS NULL"))
}

model Post {
  id        Int     @id
  title     String
  published Boolean

  @@unique([title], where: { published: { not: false } })
  @@index([title], where: { published: true })
  @@index([title], where: { published: { not: false }, id: { not: null } })
}
